# Internationalization (i18n)

## Current Status

The application has a partial i18n implementation that is currently **disabled by default** via environment variable. The system supports Italian (default) and English, but only ~20% of visible strings are currently translated.

## Configuration

### Environment Variables

- `VITE_I18N_ENABLED`: Set to `"false"` to disable i18n (default)
  - When disabled: App runs in Italian only, language menu is hidden
  - When enabled: Full i18n system is active with language switching

### Current Architecture

The i18n system includes:

- **Context Provider**: `src/components/I18nProvider.tsx`
- **Translation Hook**: `useI18n()` from `src/i18n/index.ts`
- **Translation Files**: `src/i18n/it.json`, `src/i18n/en.json`
- **Language Menu**: `src/components/LanguageMenu.tsx` (hidden when disabled)

## Enabling i18n

To enable i18n functionality:

1. Set environment variable: `VITE_I18N_ENABLED=true`
2. Complete translations for remaining strings (see "Completing Implementation" below)

## Completing Implementation

### Currently Translated Sections (~20%)

- ✅ Navbar navigation
- ✅ Authentication forms  
- ✅ Basic profile fields
- ✅ Core event/wishlist/ideas terminology

### Requires Translation (~80%)

1. **Pages & Components**
   - All form labels and validation messages
   - Error states and empty states
   - Loading states and notifications
   - Button text and action labels
   - Modal/dialog content

2. **Feature Areas**
   - Event management (creation, editing, deletion)
   - Member management and invitations
   - Chat and messaging
   - Wishlist management
   - Amazon product integration
   - Notifications system

3. **Utility Functions**
   - Date/time formatting (`src/utils/format.ts`)
   - Error messages throughout the app
   - Toast notifications

### Implementation Steps

1. **Extract hardcoded strings**
   ```typescript
   // Before
   <Button>Aggiungi alla lista</Button>
   
   // After  
   <Button>{t('wishlist.add')}</Button>
   ```

2. **Add translations to JSON files**
   ```json
   // src/i18n/it.json
   {
     "wishlist": {
       "add": "Aggiungi alla lista"
     }
   }
   
   // src/i18n/en.json  
   {
     "wishlist": {
       "add": "Add to list"
     }
   }
   ```

3. **Update format utilities**
   - Add locale parameter support
   - Use i18n context for default locale
   - Handle plural forms and number formatting

4. **Test thoroughly**
   - Verify layout doesn't break with longer text
   - Test language switching persistence
   - Validate all user flows in both languages

## Best Practices

- **Namespace translations** by feature/page (e.g., `events.create`, `wishlist.empty`)
- **Use semantic keys** rather than literal text as keys
- **Handle pluralization** for count-dependent strings
- **Test with longest translations** to prevent layout issues
- **Provide fallbacks** for missing translations

## Future Enhancements

- Add more languages (Spanish, French, German)
- Implement right-to-left language support
- Add date/number localization
- Consider using react-i18next for advanced features